1. Purpose (Назначение)

Lighting Layer обеспечивает базовое освещение мира для визуальной ориентации игрока без избыточных вычислительных затрат.

Цель:

стабильная освещенность активной зоны

минимальные накладные расходы в неактивных секторах

неизменяемый фундамент для будущих расширений (PFO, GI, эффекты)

2. Lighting Model (Модель света)

Используется простая комбинированная модель освещения:

Компонент	Назначение
Ambient Light	равномерная базовая освещенность
Single Directional Light	источник теней и ориентации формы

Точечные источники не обязательны на MVP, могут быть подключены позже.

3. Sector-Aware Lighting Rules

Освещенность сектора зависит от его текущего состояния:

Sector State	Lighting	Description
Active	Full light + shadows	сектор в фокусе внимания
Partial	Reduced intensity, low-cost shadows	дальняя зона
Sleep	Minimal ambient only	сектор спит, отключение затратных эффектов
DTO Archive	No lighting updates	сектор не участвует в кадре

Свет выступает индикатором активности зоны.

4. Performance Strategy

выключение динамических теней вне Active-сектора

упрощение shading в Partial-секторах

отсутствие lighting update для Sleep/DTO

расчет освещения только в зоне обзора камеры

Цель:

освещается только то, что видно и актуально

5. Integration Points
Module	Связь
HAOS	определяет уровень освещения по состоянию сектора
Voxel Layer	предоставляет геометрию для shading
Vector Layer	сообщает о значимых сменах структуры для обновления освещения
PFO (опционально)	может усиливать освещение только вокруг игрока

Освещение реагирует на контекст, но не управляет симуляцией.

6. MVP Defaults
Параметр	Значение
Ambient intensity	0.25
Directional light	1 источник, постоянный
Shadows	только Active sector
Update rate	ограничение обновления световых данных вне Active
7. Future-Proof Hooks

Резерв для последующих систем:

точечные источники для предметов

биомный цвет/цветовая температура

глобальная иллюминация

влияние материалов на отражения

процедурные ночное/дневные циклы

8. Summary

Lighting Layer обеспечивает минимальное функциональное освещение,
управляемое состоянием секторов через HAOS,
без влияния на оптимизацию и производительность ядра.

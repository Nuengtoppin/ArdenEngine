**Document Status:** üî¨ Review  
**Version:** 0.1.0  
**Maintainer:** Nuengtoppin  
**Reviewed by:** ‚Äî  
**Last update:** 2025-11-16

---
[üìö –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](./README.md)

[üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –ø—Ä–æ–µ–∫—Ç–∞](../../ARCHITECTURE/readme.md)  


# **1.0. –û–±–∑–æ—Ä / mini-README —Ä–∞–∑–¥–µ–ª–∞ —Ç–æ–ø–æ–ª–æ–≥–∏–∏**

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –∑–∞–¥–∞—ë—Ç **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Ç–æ–ø–æ–ª–æ–≥–∏—é –º–∏—Ä–∞** ‚Äî —Å—Ç—Ä–æ–≥–∏–π —è–∑—ã–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–≤–∏–∂–∫–∞:

* –∫–∞–∫ –º–∏—Ä —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel),
* –∫–∞–∫–∏–µ —É –Ω–∏—Ö —Ä–∞–∑–º–µ—Ä—ã –∏ —Å—Ç—Ä–∞–π–¥—ã,
* –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –∏–Ω–¥–µ–∫—Å—ã,
* –∫–∞–∫ –∏–∑ –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤ –º–∏—Ä–µ –∏ –æ–±—Ä–∞—Ç–Ω–æ,
* –∫–∞–∫ 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª–∏–Ω–µ–π–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ 1D-–ø–∞–º—è—Ç—å (flat index, Morton).

–†–∞–∑–¥–µ–ª **–Ω–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç** –≥–µ–π–º–ø–ª–µ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞, —Å–µ—Ç–µ–≤–æ–π –∫–æ–¥, DTO/HAOS –∏ –¥—Ä—É–≥–∏–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.
–ó–¥–µ—Å—å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **—á–∏—Å—Ç–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞**, –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π R&D.

---

## 1.0.1. –ß—Ç–æ –∑–∞–¥–∞—ë—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—è

–†–∞–∑–¥–µ–ª 1.x —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç:

* **–ï–¥–∏–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞**
  * –∂—ë—Å—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel`;
  * —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∫—Ä–∞—Ç–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω–µ–π;
  * –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø–ª–æ—Ç–Ω–æ—Å—Ç—å (32¬≥ / 64¬≥ / 128¬≥) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

* **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—É—é –º–æ–¥–µ–ª—å**
  * –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π `x | z | y`;
  * —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ (signed / float) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã ‚â• 0;
  * –∑–Ω–∞–∫–æ–≤—É—é –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ –æ–∫—Ç–∞–Ω—Ç—ã A‚ÄìI;
  * –º–æ—Å—Ç –º–µ–∂–¥—É –º–∏—Ä–æ–≤—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π (Region + LocalFloat).

* **–ê–¥—Ä–µ—Å–∞—Ü–∏—é –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é**
  * –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –∏ —Å—Ç—Ä–∞–π–¥—ã –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π;
  * –ø—Ä—è–º—ã–µ –∏ –æ–±—Ä–∞—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∞–¥—Ä–µ—Å ‚Üî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞;
  * –ø–ª–æ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã (flat index) –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–π –ø–∞–º—è—Ç–∏;
  * Morton-–ø–æ—Ä—è–¥–æ–∫ –¥–ª—è SVO/LOD –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤.

–≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã:

* –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∞–¥—Ä–µ—Å–æ–≤–∞—Ç—å –ª—é–±–æ–π –≤–æ–∫—Å–µ–ª—å –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä,
* —Å–æ–±—Ä–∞—Ç—å/—Ä–∞–∑–ª–æ–∂–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ª—é–±–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏,
* –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ—Ä—Ö —Ç–æ–ø–æ–ª–æ–≥–∏–∏ routing, LOD, SVO, DTO/HAOS, —Å—Ç—Ä–∏–º–∏–Ω–≥ –∏ –ø—Ä–æ—á–∏–µ —Å–∏—Å—Ç–µ–º—ã.

---

## 1.0.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞ 1.x (–ø–æ –±–ª–æ–∫–∞–º)

**1.1. –£—Ä–æ–≤–Ω–∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏**  
–í–≤–æ–¥–∏—Ç –ø—è—Ç—å —É—Ä–æ–≤–Ω–µ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏:

> Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel

–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Ö **–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–æ–ª–∏**:
–∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–∏—Ä–∞, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫, –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–æ—Å–∏—Ç–µ–ª—å –ø–ª–æ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–π –≤–æ–∫—Å–µ–ª—å.  
–§–∏–∫—Å–∏—Ä—É–µ—Ç, —á—Ç–æ –∏–µ—Ä–∞—Ä—Ö–∏—è –Ω–µ–∏–∑–º–µ–Ω–Ω–∞, –Ω–æ –º–æ–∂–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö.

---

**1.2. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**  
–§–∏–∫—Å–∏—Ä—É–µ—Ç:

* –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π (8√ó8√ó2 Blocks, 8√ó8√ó8 Chunks, 2√ó2√ó2 Octochunks, 32¬≥ vox);
* —á–∏—Å–ª–æ–≤—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É (—Å–∫–æ–ª—å–∫–æ —á–∞–Ω–∫–æ–≤/–æ–∫—Ç–æ—á–∞–Ω–∫–æ–≤/–≤–æ–∫—Å–µ–ª–µ–π –≤ Region, Block, Chunk);
* –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ Chunk/Octochunk;
* –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞–π–¥—ã (VOXEL_SIZE, OCTO_SIZE, CHUNK_SIZE, BLOCK_SIZE, REGION_SIZE).

–≠—Ç–æ ‚Äú–ø–∞—Å–ø–æ—Ä—Ç —Ä–∞–∑–º–µ—Ä–æ–≤‚Äù –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–æ–∏—Ç—Å—è –≤—Å—è –æ—Å—Ç–∞–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞.

---

**1.3. –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å–µ–π**  
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

* –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π `x | z | y`;
* –ø—Ä–∏–Ω—Ü–∏–ø—ã –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç;
* –∑–∞–ø—Ä–µ—Ç –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã;
* –∑–Ω–∞–∫–æ–≤—É—é –º–æ–¥–µ–ª—å –æ–∫—Ç–∞–Ω—Ç–æ–≤ (A‚ÄìI);
* –∑–µ—Ä–∫–∞–ª—å–Ω—É—é XZ-–º–æ–¥–µ–ª—å –±–µ–∑ signed-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

–≠—Ç–æ—Ç –±–ª–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ç–æ, **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ –º—ã —Å—á–∏—Ç–∞–µ–º ‚Äú–≤–ø–µ—Ä—ë–¥/–Ω–∞–∑–∞–¥/–≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑‚Äù** –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤.

---

**1.4. –¢–∏–ø—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –º–æ—Å—Ç –º–µ–∂–¥—É –Ω–∏–º–∏**  
–†–∞–∑–¥–µ–ª—è–µ—Ç –¥–≤–∞ —Å–ª–æ—è:

* **–¢–∏–ø A** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∏—Ä–∞ (signed / float XYZ) –¥–ª—è —Ñ–∏–∑–∏–∫–∏, –¥–≤–∏–∂–µ–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
* **–¢–∏–ø B** ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã —Ç–æ–ø–æ–ª–æ–≥–∏–∏ (Region/Block/Chunk/Octo/Voxel) ‚â• 0 –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏.

–û–ø–∏—Å—ã–≤–∞–µ—Ç:

* –∫–∞–∫ –∑–Ω–∞–∫ –æ—Å–µ–π –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –æ–∫—Ç–∞–Ω—Ç,
* –ø–æ—á–µ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç signed-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã,
* –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–æ–¥–µ–ª—å `Region + LocalFloat` ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ Region + –¥–∏—Å–∫—Ä–µ—Ç–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è.

–≠—Ç–æ—Ç –±–ª–æ–∫ ‚Äî —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–≤—è–∑–∏ **¬´–≤–µ–∫—Ç–æ—Ä–Ω—ã–π –º–∏—Ä ‚Üî –¥–∏—Å–∫—Ä–µ—Ç–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è¬ª**.

---

**1.5. –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–º–µ—â–µ–Ω–∏–π**  
–§–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç:

* –Ω–∞–±–æ—Ä –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π (rx/bx/cx/ox/vx –∏ –∞–Ω–∞–ª–æ–≥–∏ –ø–æ Z/Y);
* –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∏–Ω–¥–µ–∫—Å–æ–≤;
* –ø—Ä–∞–≤–∏–ª–æ `—Å–º–µ—â–µ–Ω–∏–µ = –∏–Ω–¥–µ–∫—Å * —Å—Ç—Ä–∞–π–¥`;
* —Å–≤—è–∑—å –∏–Ω–¥–µ–∫—Å–æ–≤ —Å –ø–ª–æ—Å–∫–∏–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ (flat index);
* –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏–π.

–≠—Ç–æ —Å–ª–æ–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç ‚Äú–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤‚Äù –≤ **—Å—Ç—Ä–æ–≥—É—é —Å–∏—Å—Ç–µ–º—É —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤**.

---

**1.6. –§–æ—Ä–º—É–ª—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏**  
–ó–∞–¥–∞—ë—Ç —Ç–æ—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã:

* **–≤–Ω–∏–∑**: –æ—Ç (Region/Block/Chunk/Octo/Voxel) –∫ –∞–±—Å–æ–ª—é—Ç–Ω—ã–º –ª–æ–∫–∞–ª—å–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –≤–Ω—É—Ç—Ä–∏ Region;
* **–≤–≤–µ—Ä—Ö**: –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤–Ω—É—Ç—Ä–∏ Region –∫ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º –∏–Ω–¥–µ–∫—Å–∞–º.

–§–∏–∫—Å–∏—Ä—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞:

* –±–∏–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (1 –∞–¥—Ä–µ—Å ‚Üî 1 —Ç–æ—á–∫–∞),
* –ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å –∏ O(1),
* –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —á–∞–Ω–∫–∞/–æ–∫—Ç–æ—á–∞–Ω–∫–∞.

–≠—Ç–æ—Ç –±–ª–æ–∫ ‚Äî —á–∏—Å—Ç–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ **encode/decode –∞–¥—Ä–µ—Å–æ–≤**.

---

**1.7. –ü–ª–æ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã (Flat Indexing)**  
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ª—é–±—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Ä–æ–≤–Ω—è (`x, z, y`) –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –æ–¥–Ω–æ —á–∏—Å–ª–æ `index`
–¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–π –ø–∞–º—è—Ç–∏, –∏ –æ–±—Ä–∞—Ç–Ω–æ:

* –æ–±—â–∞—è —Ñ–æ—Ä–º—É–ª–∞ flat index;
* –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É;
* –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è Voxel, Octochunk, Chunk, Block.

–≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è:

* –º–∞—Å—Å–∏–≤–æ–≤, –±—É—Ñ–µ—Ä–æ–≤ CPU/GPU,
* ECS-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤,
* —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏,
* –ª–∏–Ω–µ–π–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö.

---

**1.8. Morton-–ø–æ—Ä—è–¥–æ–∫ (Z-order)**  
–í–≤–æ–¥–∏—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –∞–¥—Ä–µ—Å–∞—Ü–∏—é 3D ‚Üí 1D —á–µ—Ä–µ–∑ **–ø–æ–±–∏—Ç–æ–≤–æ–µ –ø–µ—Ä–µ–º–µ–∂–µ–Ω–∏–µ** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

* –∏–¥–µ—è Morton-–∫–æ–¥–∞ (x/z/y –±–∏—Ç–∞–º–∏);
* —Ñ—É–Ω–∫—Ü–∏–∏ encode/decode (part_bits / compact_bits);
* –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚â• 0, —Å—Ç–µ–ø–µ–Ω–∏ –¥–≤–æ–π–∫–∏, –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π);
* –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ SVO, LOD, spatial hashing, GPU-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.

Morton-–∏–Ω–¥–µ–∫—Å—ã –¥–æ–ø–æ–ª–Ω—è—é—Ç flat index –∏ –¥–∞—é—Ç **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫** –¥–ª—è –¥–µ—Ä–µ–≤—å–µ–≤ –∏ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞.

---

## 1.0.3. –ö–∞–∫ —á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª

* –ï—Å–ª–∏ –Ω—É–∂–Ω–æ **–ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∏—Ä–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã** ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 1.1‚Äì1.2.  
* –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç **–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã ‚Äú–º–∏—Ä ‚Üî –∏–Ω–¥–µ–∫—Å—ã‚Äù** ‚Äî 1.3‚Äì1.4.  
* –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ encode/decode –∏ –∏–Ω–¥–µ–∫—Å—ã** ‚Äî 1.5‚Äì1.6.  
* –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—à—å —Å **–±—É—Ñ–µ—Ä–∞–º–∏, SVO, LOD, GPU** ‚Äî 1.7‚Äì1.8.

–†–∞–∑–¥–µ–ª 1.x –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–∞–∫ **‚Äú–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Å–ø–æ—Ä—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞‚Äù**.
–í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —á–∞—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Routing / Rotation / DTO / HAOS / LOD / Streaming)
–¥–æ–ª–∂–Ω—ã –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞, –∞ –Ω–µ –≤–≤–æ–¥–∏—Ç—å —Å–≤–æ–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–µ —Å—Ö–µ–º—ã.

---

# **1.1. –£—Ä–æ–≤–Ω–∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏**

–ù–∏–∂–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—É 3D-—Ç–æ–ø–æ–ª–æ–≥–∏–∏.
–≠—Ç–æ —Å—Ç—Ä–æ–≥–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –Ω–µ –∑–∞–≤–∏—Å—è—â–µ–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º –¥–≤–∏–∂–∫–∞.

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± –∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, –Ω–æ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ª—é–±–æ–π –∑–∞–¥–∞—á–µ.

### **1.1.1. –°–ø–∏—Å–æ–∫ —É—Ä–æ–≤–Ω–µ–π**

| –£—Ä–æ–≤–µ–Ω—å       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)                     |
| ------------- | -------------------------------------------------------- |
| **Region**    | –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–∏—Ä–∞; –±–∞–∑–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. |
| **Block**     | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω—É—Ç—Ä–∏ Region.                     |
| **Chunk**     | –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–ª–æ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.                        |
| **Octochunk** | –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Chunk (–µ–≥–æ –æ–∫—Ç–∞–Ω—Ç).            |
| **Voxel**     | –ê—Ç–æ–º–∞—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.                            |

–í—Å–µ —É—Ä–æ–≤–Ω–∏ —è–≤–ª—è—é—Ç—Å—è **–ª–æ–≥–∏—á–µ—Å–∫–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏** –æ–¥–Ω–æ–π –µ–¥–∏–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.

### **1.1.2. –°–≤–æ–π—Å—Ç–≤–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏**

* –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫:

```
Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel
```

* –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å:

  * –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç,
  * –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä,
  * –∑–∞–¥–∞—ë—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–±.

* –ò–µ—Ä–∞—Ä—Ö–∏—è **–≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π**,
  –¥–∞–∂–µ –µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π (Chunk/Octochunk) –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è.

* –ü—Ä–æ–ø—É—Å–∫ —É—Ä–æ–≤–Ω–µ–π –≤–æ–∑–º–æ–∂–µ–Ω –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö,
  –Ω–æ —ç—Ç–æ **–Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—é**, —Ç–∞–∫ –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º–∏.

### **1.1.3. –õ–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–æ–ª–∏ —É—Ä–æ–≤–Ω–µ–π (–≤–Ω—É—Ç—Ä–∏—Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ)**

–≠—Ç–∏ —Ä–æ–ª–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–º—ã—Å–ª —É—Ä–æ–≤–Ω–µ–π —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–æ–ø–æ–ª–æ–≥–∏–∏**,
–Ω–µ –æ–ø–∏—Å—ã–≤–∞—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö –¥–≤–∏–∂–∫–∞:

* **Region** ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –º–∏—Ä–∞; –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.
* **Block** ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω—É—Ç—Ä–∏ Region.
* **Chunk** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–æ—Å–∏—Ç–µ–ª—å –ø–ª–æ—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è).
* **Octochunk** ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —á–∞—Å—Ç—å Chunk (–æ–¥–∏–Ω –∏–∑ –≤–æ—Å—å–º–∏ –æ–∫—Ç–∞–Ω—Ç–æ–≤).
* **Voxel** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞.

---

# **1.2. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.
–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –º–∞—Å—à—Ç–∞–±, —Å—Ç—Ä–∞–π–¥—ã –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ.

–†–∞–∑–º–µ—Ä—ã –ø–æ–¥–æ–±—Ä–∞–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã:

* –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞,
* –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å —É—Ä–æ–≤–Ω–µ–π,
* –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å O(1) —Å—Ç—Ä–∞–π–¥–∏–Ω–≥,
* –±—ã—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Å Morton/SVO-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏,
* –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏.

---

## 1.2.1. –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã —É—Ä–æ–≤–Ω–µ–π

–†–∞–∑–º–µ—Ä—ã —É–∫–∞–∑–∞–Ω—ã –≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∏–∂–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è.

| –£—Ä–æ–≤–µ–Ω—å       | –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å      | –ò—Ç–æ–≥ –≤ –≤–æ–∫—Å–µ–ª—è—Ö                  |
| ------------- | ---------------- | -------------------------------- |
| **Region**    | 8√ó8√ó2 Blocks     | 4096√ó4096√ó1024 vox               |
| **Block**     | 8√ó8√ó8 Chunks     | 512√ó512√ó512 vox                  |
| **Chunk**     | 2√ó2√ó2 Octochunks | 64√ó64√ó64 vox                     |
| **Octochunk** | 32√ó32√ó32 vox     | 1/8 Chunk (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –æ–∫—Ç–∞–Ω—Ç)   |
| **Voxel**     | 1√ó1√ó1            | ‚Äî                                |

–≠—Ç–∏ –≤–µ–ª–∏—á–∏–Ω—ã —è–≤–ª—è—é—Ç—Å—è –∫–∞–Ω–æ–Ω–æ–º, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç—Ä–æ–∏—Ç—Å—è —Ç–æ–ø–æ–ª–æ–≥–∏—è.

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ Region (8√ó8√ó2 Blocks)

–í—ã–±–æ—Ä –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ Region –≤ –≤–∏–¥–µ 8√ó8√ó2 Blocks (–≤—ã—Å–æ—Ç–∞ ‚âà 1/3 –æ—Ç —à–∏—Ä–∏–Ω—ã) —Å–¥–µ–ª–∞–Ω —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ.
–¢–∞–∫–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —É–º–µ–Ω—å—à–∞–µ—Ç –æ–±—ä—ë–º –ø—É—Å—Ç—ã—Ö –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ—ë–≤, —É–ø—Ä–æ—â–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–µ–ª—å–µ—Ñ–∞ –∏ —Å–Ω–∏–∂–∞–µ—Ç –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—É—é –≥–ª—É–±–∏–Ω—É –ø–æ –æ—Å–∏ Y.
–†–µ–≥–∏–æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∏–º –¥–ª—è –ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ —Ä–µ–ª—å–µ—Ñ–∞, –Ω–æ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –∫—É–± 1√ó1√ó1, –∫–æ—Ç–æ—Ä—ã–π —É–≤–µ–ª–∏—á–∏–ª –±—ã —Å—Ç–æ–∏–º–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, SVO/LOD –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏ –¥–µ–ª–∞–µ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–≤—ã—Å–æ—Ç–∞, —à—É–º, SVO-–≤–µ—Ç–≤–ª–µ–Ω–∏–µ, mesh-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è) –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.


---

## **1.2.2. –ò–µ—Ä–∞—Ä—Ö–∏—è –≤ —á–∏—Å–ª–∞—Ö**

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è:

### Region

* 8 √ó 8 √ó 2 Blocks = 128 Blocks
* 64 √ó 64 √ó 16 Chunks
* 128 √ó 128 √ó 32 Octochunks
* 4096 √ó 4096 √ó 1024 voxels

### Block

* 8 √ó 8 √ó 8 Chunks = 512 Chunks
* 512 √ó 512 √ó 512 vox
* 4096 Octochunks –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞

### Chunk

* 2 √ó 2 √ó 2 Octochunks = 8
* 64 √ó 64 √ó 64 vox

### Octochunk

* 32 √ó 32 √ó 32 vox

### Voxel

* 1 √ó 1 √ó 1

---

## **1.2.3. –ì–∏–±–∫–∏–µ —É—Ä–æ–≤–Ω–∏ (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)**

–ò–µ—Ä–∞—Ä—Ö–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π:

```
Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel
```

–ù–æ —Ä–∞–∑–º–µ—Ä—ã **Chunk** –∏ **Octochunk** –º–æ–≥—É—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è:

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–æ–≤:

* **Chunk = 32¬≥ ‚Üí Octochunk = 16¬≥**
* **Chunk = 64¬≥ ‚Üí Octochunk = 32¬≥ (–∫–∞–Ω–æ–Ω)**
* **Chunk = 128¬≥ ‚Üí Octochunk = 64¬≥**

### –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å:

* —Ä–∞–∑–º–µ—Ä—ã Block
* —Ä–∞–∑–º–µ—Ä—ã Region
* –≥–ª—É–±–∏–Ω—É –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–µ—Ä–∞—Ä—Ö–∏–∏

### –ü–æ—á–µ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—é:

* –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å —Å–ª–æ—ë–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è,
* —Å—Ç—Ä–∞–π–¥—ã –æ—Å—Ç–∞—é—Ç—Å—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏,
* –∞–¥—Ä–µ—Å–∞—Ü–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –±–∏–µ–∫—Ç–∏–≤–Ω–æ–π,
* Morton –∏ flat-index –æ—Å—Ç–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏,
* –≤—Å–µ —Ñ–æ—Ä–º—É–ª—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –ª–∏–Ω–µ–π–Ω–æ.

---

## **1.2.4. –ë–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞–π–¥—ã**

–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ (—Ñ–æ—Ä–º—É–ª—ã, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è) —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è —Å—Ç—Ä–∞–π–¥—ã:

| –°—Ç—Ä–∞–π–¥             | –í–µ–ª–∏—á–∏–Ω–∞ |
| ------------------ | -------- |
| **VOXEL_SIZE**     | 1        |
| **OCTO_SIZE**      | 32       |
| **CHUNK_SIZE**     | 64       |
| **BLOCK_SIZE_XZ**  | 512      |
| **BLOCK_SIZE_Y**   | 512      |
| **REGION_SIZE_XZ** | 4096     |
| **REGION_SIZE_Y**  | 1024     |

–°—Ç—Ä–∞–π–¥—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç:

* –¥–∏–∞–ø–∞–∑–æ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç,
* —Å–º–µ—â–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏,
* —Ñ–æ—Ä–º—É–ª—ã –ø—Ä—è–º–æ–≥–æ/–æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

---

## **1.2.5. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**

–í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, Morton, —Ñ–æ—Ä–º—É–ª—ã)
–æ—Å–Ω–æ–≤—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö:

* Region –≤—Å–µ–≥–¥–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 8√ó8√ó2 Blocks
* Block –≤—Å–µ–≥–¥–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 8√ó8√ó8 Chunks
* Chunk –≤—Å–µ–≥–¥–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 2√ó2√ó2 Octochunks
* Octochunk –≤—Å–µ–≥–¥–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫—É–±–∞ –≤–æ–∫—Å–µ–ª–µ–π
* –†–∞–∑–º–µ—Ä Octochunk –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–ª–æ—Ç–Ω–æ—Å—Ç—å Chunk
* –ü–ª–æ—Ç–Ω–æ—Å—Ç—å Chunk –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è, –Ω–æ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π

---
–û—Ç–ª–∏—á–Ω–æ. –î–µ–ª–∞—é **1.3 –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–º, –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–º, –±–µ–∑ –ø—Ä–∏–º–µ—Ä–æ–≤, –±–µ–∑ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**, —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Ç–æ–ø–æ–ª–æ–≥–∏–∏.

---

# **1.3. –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å–µ–π**

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –≤—Å–µ–π —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª—å—é.
–°–∏—Å—Ç–µ–º–∞ –æ—Å–µ–π –∏ –ø–æ—Ä—è–¥–æ–∫ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç:

* —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–π–¥–æ–≤,
* —Ñ–æ—Ä–º—É–ª—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π,
* –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ —É—Ä–æ–≤–Ω—è—Ö,
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ Morton-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## **1.3.1. –ü–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π**

–¢–æ–ø–æ–ª–æ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫:

```
x | z | y
```

–ì–¥–µ:

* **x** ‚Äî –ø–æ–ø–µ—Ä–µ—á–Ω–∞—è –æ—Å—å (–≤–æ—Å—Ç–æ–∫‚Äì–∑–∞–ø–∞–¥)
* **z** ‚Äî –ø—Ä–æ–¥–æ–ª—å–Ω–∞—è –æ—Å—å (—Å–µ–≤–µ—Ä‚Äì—é–≥)
* **y** ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –æ—Å—å (–≤–µ—Ä—Ö‚Äì–Ω–∏–∑)

### –ü—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞

* **X –∏ Z –æ–±—Ä–∞–∑—É—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—á—É—é –ø–ª–æ—Å–∫–æ—Å—Ç—å —Ç–µ—Ä—Ä–µ–π–Ω–∞** ‚Äî –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ 2D-—Ä–∞–∑—Ä–µ–∑–∞—Ö.
* **Y –≤—ã–Ω–µ—Å–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–º**, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

  * –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∞–π–¥–∏–Ω–≥ (flat index),
  * –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—ë–≤,
  * —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SVO-—É–∑–ª–∞–º–∏,
  * —É–ø—Ä–æ—â—ë–Ω–Ω—É—é —Ä–æ—Ç–∞—Ü–∏—é –≤–æ–∫—Ä—É–≥ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –æ—Å–∏.
* –ü–æ—Ä—è–¥–æ–∫ `x ‚Üí z ‚Üí y` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –≤–æ–∫—Å–µ–ª—å–Ω—ã—Ö –¥–≤–∏–∂–∫–æ–≤.

---

## 1.3.2. –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, —Å–æ–≤–ø–∞–¥–∞—é—â–∏–π —Å –µ–≥–æ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å—é.  
–õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã –∏ —Å–ª—É–∂–∞—Ç –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ —É—Ä–æ–≤–Ω—è–º –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ **1.5.2**.

---

## **1.3.3. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ**

–¢–æ–ø–æ–ª–æ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö, –≤–∫–ª—é—á–∞—è Voxel, Octo, Chunk –∏ Block.

–ü—Ä–∏—á–∏–Ω—ã:

* —É–ø—Ä–æ—â–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏,
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å flat index,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ Morton-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏,
* –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑.

**–ó–Ω–∞–∫–∏ –æ—Å–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π –º–æ–¥–µ–ª–∏ –æ–∫—Ç–∞–Ω—Ç–æ–≤.**

---

## **1.3.4. –¶–µ–Ω—Ç—Ä —Ä–µ–≥–∏–æ–Ω–∞ –∏ —Ä–∞–∑—Ä–µ–∑—ã –ø–æ –æ—Å—è–º**

Region —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –¥–≤–∞ —Å–ª–æ—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏:

* –≤–µ—Ä—Ö–Ω–∏–π —Å–ª–æ–π (`ry ‚â• 0` ‚Üí –æ–∫—Ç–∞–Ω—Ç—ã A‚ÄìD),
* –Ω–∏–∂–Ω–∏–π —Å–ª–æ–π (`ry < 0` ‚Üí –æ–∫—Ç–∞–Ω—Ç—ã E‚ÄìI).

–¶–µ–Ω—Ç—Ä —Ä–µ–≥–∏–æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫:

```
x = 0
z = 0
y = —Å–µ—Ä–µ–¥–∏–Ω–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –±–ª–æ–∫–∞–º–∏ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
```

–≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è:

* –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–Ω–∞–∫–æ–≤,
* —Ä–∞–±–æ—Ç—ã –∑–µ—Ä–∫–∞–ª—å–Ω–æ–π XZ-–º–æ–¥–µ–ª–∏,
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ–∫—Ç–∞–Ω—Ç–æ–≤.

---

## **1.3.5. –ó–Ω–∞–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å (–æ–∫—Ç–∞–Ω—Ç—ã)**

–î–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å **8 –æ–∫—Ç–∞–Ω—Ç–æ–≤**.

–û–∫—Ç–∞–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∑–Ω–∞–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–º–µ—â–µ–Ω–∏—è:

| –û–∫—Ç–∞–Ω—Ç | sx | sz | sy |
| ------ | -- | -- | -- |
| A      | +  | +  | +  |
| B      | ‚àí  | +  | +  |
| C      | ‚àí  | ‚àí  | +  |
| D      | +  | ‚àí  | +  |
| E      | +  | +  | ‚àí  |
| F      | ‚àí  | +  | ‚àí  |
| G      | ‚àí  | ‚àí  | ‚àí  |
| I      | +  | ‚àí  | ‚àí  |

*(H –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ ‚Äî –±—É–∫–≤–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –∏ —Ñ–æ—Ä–º—É–ª–∞–º–∏.)*

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏

* –û–∫—Ç–∞–Ω—Ç –∫–æ–¥–∏—Ä—É–µ—Ç **—Ç–æ–ª—å–∫–æ –∑–Ω–∞–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (sx, sz, sy)**.
* –í—Å–µ —É—Ä–æ–≤–Ω–∏ —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**.
* –ó–Ω–∞–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ Region** –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.
* –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∞–¥—Ä–µ—Å–Ω–æ–π –º–æ–¥–µ–ª–∏.

---

## **1.3.6. –ó–µ—Ä–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å XZ (–±–µ–∑ signed-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)**

–î–ª—è –æ—Å–µ–π X –∏ Z –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:

```
X = —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π Z-–ø–ª–æ—Å–∫–æ—Å—Ç–∏
Z = —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π X-–ø–ª–æ—Å–∫–æ—Å—Ç–∏
```

–ê –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–ª–µ–≤–æ/–ø—Ä–∞–≤–æ, —Å–µ–≤–µ—Ä/—é–≥) –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –æ–∫—Ç–∞–Ω—Ç.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

* –±–µ–∑–æ—Ç–∫–∞–∑–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ª–æ–≥–∞—Ö/–ø–∞–∫–µ—Ç–∞—Ö,
* –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ,
* —É–ª—É—á—à–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SVO –∏ Morton.

---

# **1.4.1. –¢–∏–ø A ‚Äî –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (signed XYZ)**

–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–∑–∏—Ü–∏—é –≤ **–º–∏—Ä–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ** –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

* —Ñ–∏–∑–∏–∫–æ–π,
* –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π,
* –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π,
* –∫–∞–º–µ—Ä–∞–º–∏,
* AI –∏ –¥–≤–∏–∂–µ–Ω–∏–µ–º,
* —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –ª—É—á–µ–π.

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏:**

```
X_abs ‚àà ‚Ñ§
Z_abs ‚àà ‚Ñ§
Y_abs ‚àà ‚Ñ§
```

–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª–æ–π —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã.

–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

* –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞,
* –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞ (–≤ —Ü–µ–ª—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö),
* –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –º–∏—Ä–µ.

---

# **1.4.2. –¢–∏–ø B ‚Äî –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ–ø–æ–ª–æ–≥–∏–∏ (–∏–Ω–¥–µ–∫—Å—ã ‚â• 0)**

–¢–æ–ø–æ–ª–æ–≥–∏—è (Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel) —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏:

```
X_local ‚â• 0
Z_local ‚â• 0
Y_local ‚â• 0
```

–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ —É—Ä–æ–≤–Ω–µ–π:

```
bx, bz, by ‚â• 0
cx, cz, cy ‚â• 0
ox, oz, oy ‚â• 0
vx, vz, vy ‚â• 0
```

–≠—Ç–æ **–∏–Ω–¥–µ–∫—Å—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**, –∞ –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –º–∏—Ä–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏.

–¢–∞–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–π–¥–æ–≤,
* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–µ–π,
* –ø–æ–ª–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SVO/Morton –∏ GPU-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏,
* –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

---

# **1.4.3. –ú–æ—Å—Ç –º–µ–∂–¥—É –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏**

–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å signed XYZ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ —Ç–æ–ø–æ–ª–æ–≥–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤—É—Ö—Å—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è –º–æ–¥–µ–ª—å:

### **1) –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–∑–Ω–∞–∫) ‚Äî —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–∫—Ç–∞–Ω—Ç–µ**

–û–∫—Ç–∞–Ω—Ç A‚ÄìI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **sx, sz, sy** ‚Äî –∑–Ω–∞–∫–∏ –æ—Å–µ–π.

### **2) –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ ‚Äî —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (–∏–Ω–¥–µ–∫—Å—ã ‚â• 0)**

–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–∞–∑–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞:

* –∏–Ω–¥–µ–∫—Å —Ä–µ–≥–∏–æ–Ω–∞ *(rx, rz, ry)*
* –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Region *(X_local, Z_local, Y_local)*
* –∏–Ω–¥–µ–∫—Å—ã Block/Chunk/Octo/Voxel

–¢–æ –µ—Å—Ç—å:

```
signed XYZ ‚Üí (octant signs) + (abs ‚Üí region indices ‚Üí local indices)
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –∏–∑ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π.

---

# **1.4.4. Region –∫–∞–∫ –≥—Ä–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º–∏**

Region –∏–≥—Ä–∞–µ—Ç —Ä–æ–ª—å ¬´–º–æ—Å—Ç–∞¬ª –º–µ–∂–¥—É:

* –≥–ª–æ–±–∞–ª—å–Ω—ã–º signed-–º–∏—Ä–æ–º
* –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

**–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (–≤–µ—Ä—Ö/–Ω–∏–∑)** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `ry`:

```
ry ‚â• 0 ‚Üí –≤–µ—Ä—Ö–Ω—è—è –ø–æ–ª—É–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–∏—Ä–∞
ry < 0 ‚Üí –Ω–∏–∂–Ω—è—è –ø–æ–ª—É–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–∏—Ä–∞
```

–ü—Ä–∏ —ç—Ç–æ–º **–ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y_local –≤—Å–µ–≥–¥–∞ ‚â• 0**.

–ò–º–µ–Ω–Ω–æ —Å–æ—á–µ—Ç–∞–Ω–∏–µ:

```
ry (—Å–ª–æ–π –º–∏—Ä–∞)
+
sy (–∑–Ω–∞–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ Y)
```

–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏.

---

# **1.4.5. –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**

–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:

> **–ù–∏ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç signed –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É.
> –û–Ω —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å—ã.**

–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:

```
abs_value = (region_index * stride) + local_index
signed_value = sign_from_octant * abs_value
```

–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

---

# **1.4.6. –ò—Ç–æ–≥–æ–≤–∞—è –º–æ–¥–µ–ª—å**

–ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ –≤ –º–∏—Ä–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –¥–≤—É–º—è —Å–ª–æ—è–º–∏:

### ‚úî –ú–∏—Ä–æ–≤–æ–π —Å–ª–æ–π (signed XYZ)

–î–ª—è —Ñ–∏–∑–∏–∫–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –¥–≤–∏–∂–µ–Ω–∏—è.

### ‚úî –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π (–∏–Ω–¥–µ–∫—Å—ã ‚â• 0)

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è, –ø–æ–∏—Å–∫–∞, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, SVO, LOD.

–°–≤—è–∑—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
octant   ‚Üí –∑–Ω–∞–∫–∏ –æ—Å–µ–π  
region   ‚Üí –∫—Ä—É–ø–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è  
indices  ‚Üí –ø–æ–∑–∏—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞  
```

---

# **1.4.7. –ü–æ—á–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç —ç—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**

* —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
* –ø–æ–≤—ã—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
* —É–ø—Ä–æ—â–∞–µ—Ç –ª–∏–Ω–µ–π–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
* —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∏–Ω–¥–µ–∫—Å–∞—Ö
* –¥–µ–ª–∞–µ—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å GPU –∏ SVO
* –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥—Ä–µ—Å–æ–≤–∞—Ç—å –º–∏—Ä –¥–æ –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –µ–¥–∏–Ω–∏—Ü
* —É–º–µ–Ω—å—à–∞–µ—Ç –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–µ—Ç–∏ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

---

# **1.4.8. –ü–ª–∞–≤–∞—é—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ Region (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

–í –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö (—Ñ–∏–∑–∏–∫–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –¥–≤–∏–∂–µ–Ω–∏–µ, –∫–∞–º–µ—Ä—ã) —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–Ω–µ —Ç–æ–ª—å–∫–æ –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã, –Ω–æ –∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–µ (float) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ Region.

–î–ª—è —ç—Ç–æ–≥–æ –≤–≤–æ–¥–∏—Ç—Å—è –º–æ–¥–µ–ª—å:

```

RegionPos = Region + LocalFloat

```

–ì–¥–µ:

* `Region` ‚Äî —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã —Ä–µ–≥–∏–æ–Ω–∞ –≤ –º–∏—Ä–µ:
```

(rx, rz, ry)

```
* `LocalFloat` ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ Region –≤ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö:
```

(x_f, z_f, y_f)

```

–ü—Ä–∏ —ç—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

* `x_f, z_f ‚àà [0 .. REGION_SIZE_XZ)`
* `y_f ‚àà [0 .. REGION_SIZE_Y)`

–¢–æ –µ—Å—Ç—å Region –∑–∞–¥–∞—ë—Ç ¬´–∫–∞–∫–æ–π —ç—Ç–æ —Ä–µ–≥–∏–æ–Ω –º–∏—Ä–∞¬ª,  
–∞ `LocalFloat` ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –µ–≥–æ –æ–±—ä—ë–º–∞.

---

## 1.4.8.1. –°–≤—è–∑—å —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

–ü—É—Å—Ç—å –µ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ –º–∏—Ä–µ –≤ –≤–∏–¥–µ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞:

```

X_abs_f, Z_abs_f, Y_abs_f ‚àà ‚Ñù

```

–¢–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å—ã Region –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Ç–∞–∫:

```

rx = floor(X_abs_f / REGION_SIZE_XZ)
rz = floor(Z_abs_f / REGION_SIZE_XZ)
ry = floor(Y_abs_f / REGION_SIZE_Y)

x_f = X_abs_f - rx * REGION_SIZE_XZ
z_f = Z_abs_f - rz * REGION_SIZE_XZ
y_f = Y_abs_f - ry * REGION_SIZE_Y

```

* `(rx, rz, ry)` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –≤ –∫–∞–∫–æ–π Region –ø–æ–ø–∞–¥–∞–µ—Ç —Ç–æ—á–∫–∞.
* `(x_f, z_f, y_f)` –∑–∞–¥–∞—é—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ Region.

–¢–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è ¬´–º–æ—Å—Ç¬ª –º–µ–∂–¥—É –≥–ª–æ–±–∞–ª—å–Ω—ã–º float-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –∏ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π Region.

---

## 1.4.8.2. –°–≤—è–∑—å —Å —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏

–ò–∑ `LocalFloat` –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã:

* –∏–Ω–¥–µ–∫—Å—ã –≤–æ–∫—Å–µ–ª—è:
```

vx = floor(x_f / VOXEL_SIZE)
vz = floor(z_f / VOXEL_SIZE)
vy = floor(y_f / VOXEL_SIZE)

```
* –∏–Ω–¥–µ–∫—Å—ã Octochunk / Chunk / Block –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
—á–µ—Ä–µ–∑ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å—Ç–∞—Ç–æ–∫ (—Å–º. —Ñ–æ—Ä–º—É–ª—ã 1.6.3).

–¢–æ –µ—Å—Ç—å:

* –¥—Ä–æ–±–Ω–∞—è —á–∞—Å—Ç—å `LocalFloat` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–∑–∏–∫–æ–π/–¥–≤–∏–∂–µ–Ω–∏–µ–º,
* —Ü–µ–ª–∞—è —á–∞—Å—Ç—å `floor(LocalFloat / stride)` ‚Äî 
–¥–∞—ë—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤–æ–∫—Å–µ–ª–µ–π –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

–í–∞–∂–Ω–æ:

* –º–æ–¥–µ–ª—å Region + LocalFloat **–Ω–µ –º–µ–Ω—è–µ—Ç** —Ç–æ–ø–æ–ª–æ–≥–∏—é,
* –æ–Ω–∞ –ª–∏—à—å –≤–≤–æ–¥–∏—Ç —É–¥–æ–±–Ω—ã–π –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π —Å–ª–æ–π –Ω–∞–¥ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ–æ—Ä–º—É–ª–∞–º–∏ (1.5, 1.6),
* –≤—Å–µ –ø—Ä—è–º—ã–µ/–æ–±—Ä–∞—Ç–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ—Å—Ç–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏.

---

## 1.4.8.3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª –º–æ–¥–µ–ª–∏

–ú–æ–¥–µ–ª—å `Region + LocalFloat` –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–µ float-–ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è:
* —Ñ–∏–∑–∏–∫–∏,
* –Ω–∞–≤–∏–≥–∞—Ü–∏–∏,
* –∫–∞–º–µ—Ä,
* –∞–Ω–∏–º–∞—Ü–∏–π,
* –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–º–µ—Ç—å:
* —Å—Ç—Ä–æ–≥–æ–µ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ –≤ Region/Block/Chunk/Octo/Voxel,
* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞–¥—Ä–µ—Å–∞—Ü–∏—é,
* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SVO/LOD, flat-index –∏ Morton.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

* –º–∏—Ä–æ–≤–æ–π —Å–ª–æ–π (signed/float XYZ)
* –∏ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π (–∏–Ω–¥–µ–∫—Å—ã ‚â• 0)

—Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—É—é –∏ –æ–±—Ä–∞—Ç–∏–º—É—é –º–æ–¥–µ–ª—å Region + LocalFloat,
–∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –∏ –ø—Ä–∏ —ç—Ç–æ–º –¥–∞—ë—Ç —Å–≤–æ–±–æ–¥–Ω–æ–µ –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ Region.

---

# **1.5. –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–º–µ—â–µ–Ω–∏–π**

–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ç–æ–ø–æ–ª–æ–≥–∏–∏.
–û–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã,
—Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–ª–æ—Å–∫–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ –∏ —Å–ª—É–∂–∞—Ç –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –ø—Ä—è–º—ã—Ö –∏ –æ–±—Ä–∞—Ç–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

–í—Å–µ –∏–Ω–¥–µ–∫—Å—ã —è–≤–ª—è—é—Ç—Å—è **—Ü–µ–ª—ã–º–∏, –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏**, –∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—è–º–∏ —É—Ä–æ–≤–Ω–µ–π.

---

## **1.5.1. –ò–Ω–¥–µ–∫—Å—ã —É—Ä–æ–≤–Ω–µ–π (–æ–±—â–∞—è –º–æ–¥–µ–ª—å)**

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∑–∞–¥–∞—ë—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤:

| –£—Ä–æ–≤–µ–Ω—å       | –ò–Ω–¥–µ–∫—Å—ã                                  |
| ------------- | ---------------------------------------- |
| **Region**    | `(rx, rz, ry)` ‚Äî –∏–Ω–¥–µ–∫—Å—ã —Ä–µ–≥–∏–æ–Ω–æ–≤ –≤ –º–∏—Ä–µ |
| **Block**     | `(bx, bz, by)` ‚Äî –∏–Ω–¥–µ–∫—Å—ã –±–ª–æ–∫–æ–≤ –≤ Region |
| **Chunk**     | `(cx, cz, cy)` ‚Äî –∏–Ω–¥–µ–∫—Å—ã —á–∞–Ω–∫–æ–≤ –≤ Block  |
| **Octochunk** | `(ox, oz, oy)` ‚Äî –∏–Ω–¥–µ–∫—Å—ã –æ–∫—Ç–∞–Ω—Ç–æ–≤ Chunk  |
| **Voxel**     | `(vx, vz, vy)` ‚Äî –∏–Ω–¥–µ–∫—Å—ã –≤–æ–∫—Å–µ–ª—è         |

–í—Å–µ —É—Ä–æ–≤–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:

```
–∏–Ω–¥–µ–∫—Å ‚Üí –¥–∏–∞–ø–∞–∑–æ–Ω [0..N-1]
```

–≥–¥–µ N –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å—é —É—Ä–æ–≤–Ω—è (—Å–º. 1.2).

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:

* O(1) –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π,
* —Å—Ç—Ä–æ–≥—É—é –±–∏–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞—Ü–∏–∏,
* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å flat-index –∏ Morton.

---

## 1.5.2. –î–∏–∞–ø–∞–∑–æ–Ω—ã –∏–Ω–¥–µ–∫—Å–æ–≤

–î–∏–∞–ø–∞–∑–æ–Ω—ã –∏–Ω–¥–µ–∫—Å–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å—é –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è (–≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 64¬≥/32¬≥):

| –£—Ä–æ–≤–µ–Ω—å       | –î–∏–∞–ø–∞–∑–æ–Ω –∏–Ω–¥–µ–∫—Å–æ–≤                         |
| ------------- | ------------------------------------------ |
| **Voxel**     | `vx, vz, vy ‚àà [0..31]`                    |
| **Octochunk** | `ox, oz, oy ‚àà [0..1]`                     |
| **Chunk**     | `cx, cz, cy ‚àà [0..7]`                     |
| **Block**     | `bx, bz ‚àà [0..7]`, `by ‚àà [0..1]`          |
| **Region**    | `X_local, Z_local ‚àà [0..4095]`, `Y_local ‚àà [0..1023]` |

–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å—Ç—Ä–∞–π–¥–∞–º–∏ (—Å–º. 1.2.4) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ Chunk/Octochunk.

–î–∏–∞–ø–∞–∑–æ–Ω—ã –≤—ã—à–µ –∑–∞–¥–∞—é—Ç **–ø–æ–ª–Ω—ã–π –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ç–æ–ø–æ–ª–æ–≥–∏–∏.
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

* –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–≥–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –∏–Ω–¥–µ–∫—Å–æ–≤ `[0..N-1]`,
* –ø—Ä–∏ –ª—é–±–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–≤–∫–ª—é—á–∞—è –æ–±—Ö–æ–¥—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é)
  –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–ø–∏—Ä–∞—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã.

### –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –ø—Ä–æ–ø—É—Å–∫–µ —É—Ä–æ–≤–Ω–µ–π

–í –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö (Routing, LOD, DTO/HAOS –∏ —Ç.–¥.) —Ä–∞–∑—Ä–µ—à–µ–Ω–æ:

* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–Ω–µ –≤—Å—é** —Ü–µ–ø–æ—á–∫—É —É—Ä–æ–≤–Ω–µ–π,
* —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –≤–∏–¥–∞:
  * `Region ‚Üí Voxel`,
  * `Region ‚Üí Chunk`,
  * `Block ‚Üí Voxel` –∏ —Ç.–ø.

–ü—Ä–∏ —ç—Ç–æ–º:

* –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∏–Ω–¥–µ–∫—Å–æ–≤ **–Ω–µ –º–µ–Ω—è—é—Ç—Å—è**,
* ¬´–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ¬ª —É—Ä–æ–≤–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è **–Ω–µ—è–≤–Ω–æ —Ä–∞–≤–Ω—ã–º–∏ –Ω—É–ª—é**  
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç Chunk/Octochunk, —Ç–æ `cx=cz=cy=0` –∏ `ox=oz=oy=0` –≤ –ø–æ–ª–Ω–æ–º –∞–¥—Ä–µ—Å–µ),
* —Å—Ç—Ä–æ–∫–æ–≤—ã–π/—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ **Routing**,
  –Ω–æ –≤—Å–µ–≥–¥–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —ç—Ç–æ–º—É –ø–æ–ª–Ω–æ–º—É –Ω–∞–±–æ—Ä—É –∏–Ω–¥–µ–∫—Å–æ–≤.

–¢–æ–ø–æ–ª–æ–≥–∏—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç:

* –∫–∞–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –≤–æ–∑–º–æ–∂–Ω—ã,
* –∫–∞–∫ –æ–Ω–∏ —Ä–∞–∑–ª–∞–≥–∞—é—Ç—Å—è –ø–æ —Å—Ç—Ä–∞–π–¥–∞–º,
* –∫–∞–∫ –∏–∑ –Ω–∏—Ö —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞.

–ê —Ä–∞–∑–¥–µ–ª Routing –ø–æ–∑–∂–µ –∑–∞–¥–∞—Å—Ç, **–∫–∞–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω–µ–π –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ**,  
–∏ –∫–∞–∫ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Region + Octant + v(x|z|y)`) –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –ø–æ–ª–Ω–æ–º—É –∞–¥—Ä–µ—Å—É
—á–µ—Ä–µ–∑ —Ç–µ –∂–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∏ —Å—Ç—Ä–∞–π–¥—ã.

---

## **1.5.3. –ü—Ä–∞–≤–∏–ª–æ ¬´–∏–Ω–¥–µ–∫—Å ‚Üí —Å—Ç—Ä–∞–π–¥ ‚Üí —Å–º–µ—â–µ–Ω–∏–µ¬ª**

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **—Å—Ç—Ä–∞–π–¥** ‚Äî —á–∏—Å–ª–æ –≤–æ–∫—Å–µ–ª–µ–π, –ø—Ä–∏—Ö–æ–¥—è—â–µ–µ—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É –∏–Ω–¥–µ–∫—Å–∞ —ç—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è.

–ü—Ä–∏–Ω—Ü–∏–ø:

```
—Å–º–µ—â–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è = –∏–Ω–¥–µ–∫—Å * —Å—Ç—Ä–∞–π–¥ —É—Ä–æ–≤–Ω—è
```

–ù–∞–ø—Ä–∏–º–µ—Ä:

```
—Å–º–µ—â–µ–Ω–∏–µ —á–∞–Ω–∫–∞ = cx * CHUNK_SIZE
—Å–º–µ—â–µ–Ω–∏–µ –±–ª–æ–∫–∞ = bx * BLOCK_SIZE_XZ
—Å–º–µ—â–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞ = rx * REGION_SIZE_XZ
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –ø—Ä—è–º—ã—Ö (–≤–Ω–∏–∑) –∏ –æ–±—Ä–∞—Ç–Ω—ã—Ö (–≤–≤–µ—Ä—Ö) –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π.

---

## **1.5.4. –ü–ª–æ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã (flat index)**

–ü–ª–æ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–æ–π–∫–∏ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –æ–¥–Ω–æ —á–∏—Å–ª–æ:

```
index = x + size_x * (z + size_z * y)
```

–ì–¥–µ:

* `x, z, y` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã —É—Ä–æ–≤–Ω—è,
* `size_x, size_z` ‚Äî —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω—è.

–ü–ª–æ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

* –≤ –ø–∞–º—è—Ç–∏ CPU/GPU,
* –ø—Ä–∏ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ SVO-—É–∑–ª–æ–≤,
* –≤ SSBO/UBO buffers,
* –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö,
* –≤ ECS-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

* –≤—Å–µ–≥–¥–∞ O(1),
* –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–∏–º,
* –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç signed-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π,
* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω.

---

## **1.5.5. –û–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è**

–î–ª—è –ª—é–±–æ–≥–æ –ø–ª–æ—Å–∫–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è:

```
x = index % size_x
t = index / size_x
z = t % size_z
y = t / size_z
```

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

* –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –∏–∑ –ª–∏–Ω–µ–π–Ω–æ–π –ø–∞–º—è—Ç–∏,
* –ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç—É —Å GPU-–¥–∞–Ω–Ω—ã–º–∏,
* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Morton-–∫–æ–¥–æ–º,
* —Å—Ç—Ä–æ–≥–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

---

## **1.5.6. –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤**

–ê–¥—Ä–µ—Å —Ç–æ—á–∫–∏ –≤ –º–∏—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤:

```
Region ‚Üí Block ‚Üí Chunk ‚Üí Octochunk ‚Üí Voxel
```

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∫–ª–∞–¥ –≤ –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ:

```
—Å–º–µ—â–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è Region
+ —Å–º–µ—â–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è Block
+ —Å–º–µ—â–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è Chunk
+ —Å–º–µ—â–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è Octochunk
+ –ª–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å Voxel
```

–≠—Ç–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–≥—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é —Å–º–µ—â–µ–Ω–∏–π:

```
offset = 
    rx * REGION_SIZE_XZ
  + bx * BLOCK_SIZE_XZ
  + cx * CHUNK_SIZE
  + ox * OCTO_SIZE
  + vx
```

(–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è Z –∏ Y)

–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏–π ‚Äî –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø—Ä—è–º—ã—Ö —Ñ–æ—Ä–º—É–ª –≤ —Ä–∞–∑–¥–µ–ª–µ 1.6.

---

## **1.5.7. –†–æ–ª—å –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –∏ —Å–∏–º–º–µ—Ç—Ä–∏–∏**

–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:

* –±–∏–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞,
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞—Ç–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π,
* –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç signed XYZ,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–º–µ—â–µ–Ω–∏–π,
* —Å—Ç—Ä–æ–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º:

  * –≥–µ–Ω–µ—Ä–∞—Ü–∏—è,
  * LOD,
  * SVO,
  * —Å–∏–º—É–ª—è—Ü–∏–∏,
  * —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ,
  * —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –±—É—Ñ–µ—Ä—ã.

---

---

# **1.6. –§–æ—Ä–º—É–ª—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏**

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–æ–≥–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É:

* –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ —Ç–æ–ø–æ–ª–æ–≥–∏–∏
* –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ Region

–§–æ—Ä–º—É–ª—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–π–¥–∞—Ö (—Å–º. 1.2.4) –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–µ–∫—Å–∞—Ö (—Å–º. 1.5).

–í—Å–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:

* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω—ã,
* –ª–∏–Ω–µ–π–Ω—ã,
* O(1),
* –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–∏–º—ã,
* –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –æ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö.

---

# **1.6.1. –õ–∏–Ω–µ–π–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è –∏ —Å—Ç—Ä–∞–π–¥—ã**

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–∏–Ω–¥–µ–∫—Å** –∏ **—Å—Ç—Ä–∞–π–¥**, –∑–∞–¥–∞—é—â–∏–π –¥–ª–∏–Ω—É —Å—Ç–æ—Ä–æ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –≤–æ–∫—Å–µ–ª—è—Ö.

–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ:

```
—Å–º–µ—â–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è = –∏–Ω–¥–µ–∫—Å —É—Ä–æ–≤–Ω—è * —Å—Ç—Ä–∞–π–¥ —É—Ä–æ–≤–Ω—è
```

–î–ª—è –∫–∞–Ω–æ–Ω. –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

| –£—Ä–æ–≤–µ–Ω—å   | –ò–Ω–¥–µ–∫—Å         | –°—Ç—Ä–∞–π–¥ –ø–æ X / Z / Y (vox) |
|-----------|----------------|----------------------------|
| Region    | rx, rz, ry     | 4096 / 4096 / 1024         |
| Block     | bx, bz, by     | 512  / 512  / 512          |
| Chunk     | cx, cz, cy     | 64   / 64   / 64           |
| Octochunk | ox, oz, oy     | 32   / 32   / 32           |
| Voxel     | vx, vz, vy     | 1    / 1    / 1            |

–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤–Ω—É—Ç—Ä–∏ Region –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å–ª–æ–∂–µ–Ω–∏–µ–º —Å–º–µ—â–µ–Ω–∏–π –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π.

---

# **1.6.2. –ü—Ä—è–º–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (–≤–Ω–∏–∑)**

### *–ò–µ—Ä–∞—Ä—Ö–∏—è ‚Üí –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Region*

–ü—É—Å—Ç—å –¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–æ–≤:

```
Region:    (rx, rz, ry)
Block:     (bx, bz, by)
Chunk:     (cx, cz, cy)
Octochunk: (ox, oz, oy)
Voxel:     (vx, vz, vy)
```

–¢–æ–≥–¥–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ Region –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∫–∞–∫:

```
X_local =
    rx * REGION_SIZE_XZ +
    bx * BLOCK_SIZE_XZ +
    cx * CHUNK_SIZE   +
    ox * OCTO_SIZE    +
    vx

Z_local =
    rz * REGION_SIZE_XZ +
    bz * BLOCK_SIZE_XZ +
    cz * CHUNK_SIZE   +
    oz * OCTO_SIZE    +
    vz

Y_local =
    ry * REGION_SIZE_Y +
    by * BLOCK_SIZE_Y +
    cy * CHUNK_SIZE   +
    oy * OCTO_SIZE    +
    vy
```

–°–≤–æ–π—Å—Ç–≤–∞:

* –∫–∞–∂–¥–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ ‚Äî —Å—É–º–º–∞ –ø—è—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–º–µ—â–µ–Ω–∏–π,
* —Ñ–æ—Ä–º—É–ª—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–∏–Ω–µ–π–Ω—ã,
* –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–Ω–æ—Å–∏—Ç –≤–∫–ª–∞–¥, —Ä–∞–≤–Ω—ã–π –µ–≥–æ —Å—Ç—Ä–∞–π–¥—É.

### –í–∞–∂–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ

–≠—Ç–æ **–ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Region**, –Ω–µ –º–∏—Ä–æ–≤—ã–µ.
–û–Ω–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞–∫–æ–≤ –∏ –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É Region.

---

# **1.6.3. –û–±—Ä–∞—Ç–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (–≤–≤–µ—Ä—Ö)**

### *–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Region ‚Üí –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã*

–î–∞–Ω–æ:

```
X_local, Z_local, Y_local
```

–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

```
rx, rz, ry
bx, bz, by
cx, cz, cy
ox, oz, oy
vx, vz, vy
```

–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ:

```
index = value // SIZE
value = value % SIZE
```

–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑:

---

### **1) Region**

```
rx = X_local // REGION_SIZE_XZ
rz = Z_local // REGION_SIZE_XZ
ry = Y_local // REGION_SIZE_Y

X1 = X_local % REGION_SIZE_XZ
Z1 = Z_local % REGION_SIZE_XZ
Y1 = Y_local % REGION_SIZE_Y
```

---

### **2) Block**

```
bx = X1 // BLOCK_SIZE_XZ
bz = Z1 // BLOCK_SIZE_XZ
by = Y1 // BLOCK_SIZE_Y

X2 = X1 % BLOCK_SIZE_XZ
Z2 = Z1 % BLOCK_SIZE_XZ
Y2 = Y1 % BLOCK_SIZE_Y
```

---

### **3) Chunk**

```
cx = X2 // CHUNK_SIZE
cz = Z2 // CHUNK_SIZE
cy = Y2 // CHUNK_SIZE

X3 = X2 % CHUNK_SIZE
Z3 = Z2 % CHUNK_SIZE
Y3 = Y2 % CHUNK_SIZE
```

---

### **4) Octochunk**

```
ox = X3 // OCTO_SIZE
oz = Z3 // OCTO_SIZE
oy = Y3 // OCTO_SIZE

X4 = X3 % OCTO_SIZE
Z4 = Z3 % OCTO_SIZE
Y4 = Y3 % OCTO_SIZE
```

---

### **5) Voxel**

```
vx = X4
vz = Z4
vy = Y4
```

---

# **1.6.4. –°–≤–æ–π—Å—Ç–≤–∞ –ø—Ä—è–º—ã—Ö –∏ –æ–±—Ä–∞—Ç–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π**

### ‚úî **1. –ë–∏–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**

–ö–∞–∂–¥—ã–π –Ω–∞–±–æ—Ä –∏–Ω–¥–µ–∫—Å–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ –≤–Ω—É—Ç—Ä–∏ Region.

### ‚úî **2. –û–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å**

–î–ª—è –ª—é–±—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:

```
to_indices(to_local_absolute(p)) = p
```

### ‚úî **3. –õ–∏–Ω–µ–π–Ω–æ—Å—Ç—å**

–í—Å–µ —Ñ–æ—Ä–º—É–ª—ã:

* –±–µ–∑ –≤–µ—Ç–≤–ª–µ–Ω–∏–π,
* –±–µ–∑ —É—Å–ª–æ–≤–∏–π,
* –±–µ–∑ signed-–æ–ø–µ—Ä–∞—Ü–∏–π,
* –ø–æ–ª–Ω–æ—Å—Ç—å—é O(1).

### ‚úî **4. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**

–ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä—ã Chunk/Octochunk –∏–∑–º–µ–Ω–µ–Ω—ã,
—Ñ–æ—Ä–º—É–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏ ‚Äî
–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–∞–π–¥—ã.

### ‚úî **5. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —É—Ä–æ–≤–Ω–µ–π**

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç—Ä–∞–π–¥.
–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ —É—Ä–æ–≤–Ω–µ–π –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö.

---

# **1.6.5. –ò—Ç–æ–≥**

–†–∞–∑–¥–µ–ª 1.6 —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –±–∞–∑—É –∞–¥—Ä–µ—Å–∞—Ü–∏–∏:

* —Å—Ç—Ä–æ–≥–∏–µ –ª–∏–Ω–µ–π–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã,
* –ø–æ–ª–Ω—É—é –æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å,
* –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∑–Ω–∞–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏,
* –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å,
* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ –≤—Å–µ–º–∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º–∏ (LOD, SVO, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, DTO/HAOS).

–¢–µ–ø–µ—Ä—å —Ç–æ–ø–æ–ª–æ–≥–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–ª–æ—ë–≤:
–ø–ª–æ—Å–∫–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤, Morton-–∫–æ–¥–∞ –∏ —Ä–æ—Ç–∞—Ü–∏–π (–≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞).

---

# **1.7. –ü–ª–æ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã (Flat Indexing)**

–ü–ª–æ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–æ–π–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É—Ä–æ–≤–Ω—è
–≤ –æ–¥–Ω–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ –ø–æ–∑–∏—Ü–∏—é —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –ª–∏–Ω–µ–π–Ω–æ–º –º–∞—Å—Å–∏–≤–µ.

Flat index –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

* —Å—Ç—Ä–æ–≥–æ–µ O(1) –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –ª–∏–Ω–µ–π–Ω–æ–π –ø–∞–º—è—Ç—å—é,
* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ö—Ä–∞–Ω–µ–Ω–∏—è,
* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å CPU/GPU-–±—É—Ñ–µ—Ä–∞–º–∏,
* –ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç—É —Å –º–∞—Å—Å–∏–≤–∞–º–∏, —Ç–∞–±–ª–∏—Ü–∞–º–∏, SVO/LOD-—É–∑–ª–∞–º–∏.

Flat index ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ç–æ–ø–æ–ª–æ–≥–∏–∏,
—Ç–∞–∫ –∫–∞–∫ –æ–Ω —Å–æ–∑–¥–∞—ë—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É 3D-–º–æ–¥–µ–ª—å—é –∏ –ª–∏–Ω–µ–π–Ω—ã–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.

–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ä–∞–∑–±–æ—Ä flat index, —É–∂–µ –≤–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤ 1.5‚Äù.

---

# **1.7.1. –ú–æ–¥–µ–ª—å –ª–∏–Ω–µ–π–Ω–æ–π –ø–∞–º—è—Ç–∏**

–õ—é–±–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–æ–ø–æ–ª–æ–≥–∏–∏
(**Octochunk**, **Chunk**, **Block**, **Region**)
–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –ª–∏–Ω–µ–π–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–∞–º—è—Ç–∏.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç—Ä—ë—Ö–º–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Ä–æ–≤–Ω—è —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π 1D-–º–∞—Å—Å–∏–≤ –¥–ª–∏–Ω–æ–π:

```
len = size_x * size_z * size_y
```

–≥–¥–µ:

* `size_x`, `size_z`, `size_y` ‚Äî –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã —É—Ä–æ–≤–Ω—è.

### **–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –º–æ–¥–µ–ª—å –ª–∏–Ω–µ–π–Ω–æ–π –ø–∞–º—è—Ç–∏**

* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ CPU –∏ GPU.
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–æ–¥–Ω—É —Ñ–æ—Ä–º—É–ª—É –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (flat index)** –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π.
* –î–µ–ª–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å:

  * –º–∞—Å—Å–∏–≤–∞–º–∏,
  * SSBO/UBO –±—É—Ñ–µ—Ä–∞–º–∏,
  * ECS-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π,
  * —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π,
  * SVO/LOD-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.
* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **O(1)** –¥–æ—Å—Ç—É–ø –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —É—Ä–æ–≤–Ω—è.
* –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã—Ö –º–∞—Å—Å–∏–≤–∞—Ö –∏ —Å–ª–æ–∂–Ω—ã—Ö addressing-—Å—Ö–µ–º–∞—Ö.

### **–ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏**

* **–°—Ç—Ä–æ–≥–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 3D ‚Üí 1D** –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
* **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å 1D ‚Üí 3D** —á–µ—Ä–µ–∑ –æ–±—Ä–∞—Ç–Ω—ã–π flat index.
* **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π).
* **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç:

  * –≤—ã—Å–æ–∫—É—é –∫—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å,
  * –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –æ–±—Ö–æ–¥,
  * —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤, —Ñ–∏–∑–∏–∫–∏ –∏ —Ä–µ–Ω–¥–µ—Ä–∞.
* –ú–æ–¥–µ–ª—å **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ª–∏–Ω–µ–π–Ω–æ** ‚Äî –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–ª—è 32¬≥, —Ç–∞–∫ –∏ –¥–ª—è 128¬≥ –∏–ª–∏ 256¬≥ —á–∞–Ω–∫–æ–≤.

---

# **1.7.2. –§–æ—Ä–º—É–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (x, z, y ‚Üí index)**

–¢–æ–ø–æ–ª–æ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π:

```
x | z | y
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

* X ‚Äî –±—ã—Å—Ç—Ä—ã–π —à–∞–≥ (–∏–¥—ë—Ç –ø–µ—Ä–≤—ã–º),
* Z ‚Äî —Å—Ä–µ–¥–Ω–∏–π —à–∞–≥,
* Y ‚Äî —Å–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π —à–∞–≥ (—Å–ª–æ–π).

–§–æ—Ä–º—É–ª–∞:

```
flat_index =
    x +
    size_x * (
        z +
        size_z * y
    )
```

–ì–¥–µ:

* `x, z, y` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Ä–æ–≤–Ω—è,
* `size_x, size_z, size_y` ‚Äî —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω—è.

–°–≤–æ–π—Å—Ç–≤–∞ —Ñ–æ—Ä–º—É–ª—ã:

* –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–∏–Ω–µ–π–Ω–∞,
* –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–µ—Ç–≤–ª–µ–Ω–∏–π,
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—É—é –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É,
* –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π.

---

# **1.7.3. –û–±—Ä–∞—Ç–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (index ‚Üí x, z, y)**

–î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è 3D-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ –ø–ª–æ—Å–∫–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```
x = index % size_x
t = index / size_x

z = t % size_z
y = t / size_z
```

–ì–∞—Ä–∞–Ω—Ç–∏–∏:

* –ø–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å,
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏,
* O(1) –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ,
* —Å—Ç—Ä–æ–≥–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–æ–π–∫–∏ (x, z, y) –∏—Å—Ö–æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞.

---

# **1.7.4. Flat index –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è**

–ù–∏–∂–µ —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å –¥–ª—è –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —É—Ä–æ–≤–Ω–µ–π.

### **Voxel (–≤–Ω—É—Ç—Ä–∏ Octochunk, 32√ó32√ó32)**

```
voxel_index =
    vx +
    32 * (
        vz +
        32 * vy
    )
```

### **Octochunk (–≤–Ω—É—Ç—Ä–∏ Chunk, 2√ó2√ó2)**

```
octo_index =
    ox +
    2 * (
        oz +
        2 * oy
    )
```

### **Chunk (–≤–Ω—É—Ç—Ä–∏ Block, 8√ó8√ó8)**

```
chunk_index =
    cx +
    8 * (
        cz +
        8 * cy
    )
```

### **Block (–≤–Ω—É—Ç—Ä–∏ Region, 8√ó8√ó2)**

```
block_index =
    bx +
    8 * (
        bz +
        8 * by
    )
```

### –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—é—Ç—Å—è,
–µ—Å–ª–∏ Chunk/Octochunk –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è (—Å–º. 1.2.3),
–Ω–æ —Ñ–æ—Ä–º—É–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏.

---

# **1.7.5. –°–≤—è–∑—å flat index –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —É—Ä–æ–≤–Ω–µ–π**

Flat index —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∑–∞–º–∫–Ω—É—Ç–æ–º –æ–±—ä—ë–º–µ –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è.

–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è –≤—ã—à–µ (1.6):

```
offset = Œ£ (index_level * stride_level)
```

Flat index —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–≤–Ω—è:

```
local_offset = flat_index(x, z, y)
```

–°–æ–≤–º–µ—Å—Ç–Ω–æ —ç—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:

* —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Ä–∞–∑–±–æ—Ä,
* –ª–∏–Ω–µ–π–Ω—É—é –∫–æ–º–ø–æ–Ω–æ–≤–∫—É,
* –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞—Ü–∏–∏,
* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ –≤—Å–µ–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

---

# **1.7.6. –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**

* flat index –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ **–Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã,
* —Ñ–æ—Ä–º—É–ª—ã –æ–±—Ä–∞—Ç–∏–º—ã –¥–ª—è –ª—é–±–æ–≥–æ —É—Ä–æ–≤–Ω—è,
* Y –≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –æ—Å—å,
* –ª–∏–Ω–µ–π–Ω–∞—è –ø–∞–º—è—Ç—å –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–º–µ—Ä–æ–º `size_x * size_z * size_y`,
* –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π –Ω–µ–∏–∑–º–µ–Ω–µ–Ω –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π,
* GPU/CPU-–±—É—Ñ–µ—Ä—ã –º–æ–≥—É—Ç –Ω–∞–ø—Ä—è–º—É—é –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞–º–∏,
* –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ –æ—Å–µ–π *–Ω–∞—Ä—É—à–∞–µ—Ç* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π.

---

# **1.8. Morton-–ø–æ—Ä—è–¥–æ–∫ (Z-order)**

*–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä*

Morton-–ø–æ—Ä—è–¥–æ–∫ ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä—ë—Ö–º–µ—Ä–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
–≤ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø—É—Ç—ë–º **–ø–æ–±–∏—Ç–æ–≤–æ–≥–æ –ø–µ—Ä–µ–º–µ–∂–µ–Ω–∏—è** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç x, z, y:

```
x0 z0 y0 x1 z1 y1 x2 z2 y2 ...
```

–¢–∞–∫–æ–π –ø–æ—Ä—è–¥–æ–∫:

* —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å,
* –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è SVO/LOD,
* —É–ª—É—á—à–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ,
* –¥–∞—ë—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤,
* –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Å–∏—Å—Ç–µ–º–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç `x | z | y`.

Morton-–∫–æ–¥ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫ flat index (—Å–º. 1.7) —Å–ø–æ—Å–æ–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è 3D ‚Üí 1D, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–µ –ø–æ–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏, –∞ –ø–æ–¥ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –¥–µ—Ä–µ–≤—å—è (SVO/LOD).
---

# **1.8.1. –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è Morton-–∫–æ–¥–∞**

–ü—É—Å—Ç—å –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —É—Ä–æ–≤–Ω—è:

```
(x, z, y)
```

–¢–æ–≥–¥–∞ Morton-–∫–æ–¥ ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º:

* –±–∏—Ç—ã X –∑–∞–Ω–∏–º–∞—é—Ç –ø–æ–∑–∏—Ü–∏–∏ `0, 3, 6, 9, ...`
* –±–∏—Ç—ã Z ‚Äî –ø–æ–∑–∏—Ü–∏–∏ `1, 4, 7, 10, ...`
* –±–∏—Ç—ã Y ‚Äî –ø–æ–∑–∏—Ü–∏–∏ `2, 5, 8, 11, ...`

–¢–æ –µ—Å—Ç—å:

```
bitstream = interleave_bits(x, z, y)
```

–ì–¥–µ –∫–∞–∂–¥–∞—è —Ç—Ä–æ–π–∫–∞ –±–∏—Ç –∑–∞–¥–∞—ë—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –∏–∑ 8 –ø–æ–¥–±–ª–æ–∫–æ–≤ (2√ó2√ó2) –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —É—Ä–æ–≤–Ω–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### –°–≤–æ–π—Å—Ç–≤–∞

* –ü–æ–ª–Ω–æ—Å—Ç—å—é **–æ–±—Ä–∞—Ç–∏–º**.
* –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å **–Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ (—á—Ç–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π).
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ —Ä–∞–∑–º–µ—Ä—ã Octochunk/Chunk, –∫—Ä–∞—Ç–Ω—ã–µ —Å—Ç–µ–ø–µ–Ω–∏ –¥–≤–æ–π–∫–∏.
* –°–æ–≤–º–µ—Å—Ç–∏–º —Å–æ –≤—Å–µ–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ ‚Äî voxel, octo, chunk, block, region.

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∏–¥–µ–∞–ª—å–Ω—ã–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

---

# **1.8.2. Morton-encode (3D ‚Üí 1D)**

–ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Ä–æ–≤–Ω—è:
```
x, z, y ‚àà [0..N)
```

–≥–¥–µ N –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω—è –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –æ—Å–∏  
–∏ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç—å —Ü–µ–ª–µ–≤–æ–≥–æ —Ü–µ–ª–æ–≥–æ —Ç–∏–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, u16/u32).


–ü–µ—Ä–µ–º–µ–∂–∞–µ–º –±–∏—Ç—ã:

```
morton = part_bits(x) | (part_bits(z) << 1) | (part_bits(y) << 2)
```

–ì–¥–µ `part_bits` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–¥–≤–∏–≥–∞–µ—Ç –±–∏—Ç—ã —á–∏—Å–ª–∞:

```rust
fn part_bits(mut x: u32) -> u32 {
    x = (x | (x << 8)) & 0x00FF00FF;
    x = (x | (x << 4)) & 0x0F0F0F0F;
    x = (x | (x << 2)) & 0x33333333;
    x = (x | (x << 1)) & 0x55555555;
    x
}
```

### –°–≤–æ–π—Å—Ç–≤–∞ encode

* O(1) –ø–æ–±–∏—Ç–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è,
* –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CPU –∏ GPU,
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Ä–æ–≤–Ω—è,
* –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–∞—Å—à—Ç–∞–±–∞ Chunk/Octochunk.

---

# **1.8.3. Morton-decode (1D ‚Üí 3D)**

–î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è `compact_bits`,
–∫–æ—Ç–æ—Ä–∞—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ç—Ä–µ—Ç–∏–π –±–∏—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ.

–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏:

```
x = compact_bits(morton >> 0)
z = compact_bits(morton >> 1)
y = compact_bits(morton >> 2)
```

–ì–¥–µ `compact_bits` ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω–≤–µ—Ä—Å–∏—è `part_bits`.

### –°–≤–æ–π—Å—Ç–≤–∞ decode

* —Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã,
* —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π,
* –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.

---

# **1.8.4. –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Morton-–ø–æ—Ä—è–¥–æ–∫ –≤ —Ç–æ–ø–æ–ª–æ–≥–∏–∏**

Morton-–ø–æ—Ä—è–¥–æ–∫ —è–≤–ª—è–µ—Ç—Å—è **–∫–ª—é—á–µ–≤—ã–º –±–∞–∑–æ–≤—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º** –¥–ª—è:

### ‚úî SVO (Sparse Voxel Octree)

–ö–∞–∂–¥—ã–π —É–∑–µ–ª SVO –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Morton-–∫–æ–¥ –¥–ª—è:

* –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ—Ç–æ–º–∫–æ–≤,
* –≤—ã–±–æ—Ä–∞ –æ–∫—Ç–∞–Ω—Ç–∞,
* –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

### ‚úî LOD-–∏–µ—Ä–∞—Ä—Ö–∏–π

Morton –∫–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∞–Ω–∫–∏ –ø–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤—É,
* –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–ª–æ–∫–∏,
* —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è.

### ‚úî Spatial hashing

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫:

* –∫–ª—é—á —Ö–µ—à-—Ç–∞–±–ª–∏—Ü,
* –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å —É–∑–ª–æ–≤,
* —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–µ—à–µ–π/–≤–æ–∫—Å–µ–ª–µ–π.

### ‚úî GPU-—Å—Ç—Ä—É–∫—Ç—É—Ä (SSBO/UBO)

Morton-–∏–Ω–¥–µ–∫—Å—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç:

* –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è,
* –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ—Å–µ–¥–µ–π,
* –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ 3D-–¥–∞–Ω–Ω—ã–º.

---

# **1.8.5. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã Morton-–ø–æ—Ä—è–¥–∫–∞**

Morton-–ø–æ—Ä—è–¥–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö:

* –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚â• 0 (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Ç–æ–ø–æ–ª–æ–≥–∏–µ–π),
* —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ‚Äî —Å—Ç–µ–ø–µ–Ω–∏ –¥–≤–æ–π–∫–∏,
* –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π ‚Äî —Å—Ç—Ä–æ–≥–æ `x | z | y`.

### –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º:

* —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ Region (—Å–º. 1.3).
* —Å–æ —Å—Ç—Ä–∞–π–¥–∞–º–∏ (1.6),
* —Å –ø–ª–æ—Å–∫–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π (1.7),
* —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º Chunk/Octochunk (1.2.3).

---

# **1.8.6. –ò—Ç–æ–≥ —Å–µ–∫—Ü–∏–∏ Morton**

Morton-–ø–æ—Ä—è–¥–æ–∫ –¥–∞—ë—Ç:

* –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å,
* –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å,
* SVO-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å,
* —É—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ GPU-–æ–ø–µ—Ä–∞—Ü–∏–∏,
* –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞—Ü–∏–∏,
* —Å—Ç—Ä–æ–≥–æ–µ 3D-–¥–µ—Ä–µ–≤–æ –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏.

–û–Ω —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –±—É–¥—É—â–∏—Ö –±–ª–æ–∫–æ–≤:

* SVO/LOD,
* —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞,
* –¥–∏–Ω–∞–º–∏–∫–∏,
* —Å—Ç—Ä–∏–º–∏–Ω–≥–∞.

---

[üìö –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](./README.md)

[üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –ø—Ä–æ–µ–∫—Ç–∞](../../ARCHITECTURE/readme.md)  

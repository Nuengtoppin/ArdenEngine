# Архитектура: Topology / Routing / Rotation

Этот блок документов описывает **ядро адресной модели мира** для движка:

- как мир разрезается на контейнеры (топология),
- как мы описываем путь к точке/области (routing),
- как мы поворачиваем паттерны и структуры (rotation),
- и как всё это выглядит на живых примерах (examples).

Файлы в этой папке:

- [`Topology.md`](./Topology.md)  
  Базовая **топология мира**:  
  уровни `Region → Block → Chunk → Octochunk → Voxel`,  
  канон координат `x | z | y`, страйды, диапазоны индексов, Morton-порядок.  
  Это фундамент, на котором строится адресация и все последующие документы.

- [`Routing.md`](./Routing.md)  
  **Route** как канонический маршрут через уровни топологии.  
  Структура маршрута, полные и сокращённые формы, инварианты, строковый формат,
  операции (сравнение, смещение, принадлежность, up/down, mapping-API)  
  и то, как этим пользуются DTO, HAOS, LOD/SVO, генерация и ECS.

- [`Rotation.md`](./Rotation.md)  
  **Ротация вокруг оси Y** (yaw, 0°/90°/180°/270°) для контейнеров и паттернов.  
  Как крутить локальные фигуры внутри Chunk/Octochunk/Blueprint,  
  как это сочетается с Route и топологией, почему мы сознательно  
  не трогаем ось Y на базовом уровне и оставляем pitch/roll для более поздних, локальных систем.

- [`Examples.md`](./Examples.md)  
  **Человекочитаемые примеры** к трём документам выше.  
  Сквозные сценарии: игрок, курсор, нормализация float-позиции в Route,  
  примеры с Region/Block/Chunk/Octo/Voxel, плотностью вокселей,  
  и связкой Topology + Routing + Rotation в реальных ситуациях.

---

## Как читать

Рекомендуемый порядок:

1. `Topology.md` — понять, **из каких кирпичей собран мир** и как устроены координаты.
2. `Routing.md` — увидеть, **как эти кирпичи превращаются в маршруты (Route)**, которые понимают все системы.
3. `Rotation.md` — посмотреть, **как мы переиспользуем структуры и паттерны**, поворачивая их без ломки топологии.
4. `Examples.md` — пробежать живые примеры и связать всё вместе на уровне интуиции.

---

## Зачем всё это

Цель этого блока — дать **единый язык** для всех подсистем движка:

- топология хранит структуру,
- routing задаёт адреса,
- rotation позволяет переиспользовать контент и паттерны,
- examples помогает это всё “почувствовать” на примерах.

Документы намеренно строгие и требовательные,  
но каждая система (генерация, LOD/SVO, DTO/HAOS, ECS, рендер, инструменты)  
может опционально брать из них ровно ту глубину, которая ей нужна.

Буду признателен за обратную связь, комментарии и замечания по этим файлам —
эта архитектурная триада (плюс примеры) задумана как открытый фундамент,
который можно развивать и шлифовать по мере роста проекта.


Perceptual Filter Optimization (PFO)
Слой перцептивной оптимизации отображения

Статус: Draft
Цель: оптимизировать визуализацию и повысить визуальную понятность, основываясь на внимании игрока.

1. Назначение

PFO действует после основного рендера, не влияя на:

данные Voxel Layer

физику Vector Layer

работу HAOS

Слой управляет восприятием, а не симуляцией.

Основная задача:

Делать рендер ровно настолько детальным, насколько это нужно глазу игрока в данный момент.

2. Принципы работы

PFO анализирует:

направление камеры

дистанцию до объектов

состояние сектора (Active/Partial/Sleep)

важность объектов по маякам Vector Layer / HAOS

И применяет оптимизации:

Эффект	Назначение
Динамическое размытие вдалеке	визуальное сглаживание границ LOD
Понижение чёткости неважных элементов	экономия ресурсов
Сглаживание световых перепадов	читабельность
Снижение частоты обновления дальних мешей	производительность
Затенение периферии внимания	подсказка игроку

Игрок видит лучшее, не видит лишнего.

3. Связи с подсистемами
Система	Обмен информацией
HAOS	Запросы на повышение/понижение уровня отображения сектора
Vector Layer	Приоритеты важных структур в кадре
Lighting Layer	Управление световой контрастностью и дальностью теней
Voxel Layer	Оптимизация частоты обновления мешей на дистанции

PFO — визуальный партнёр HAOS.

4. Поведенческие правила
Событие	Действие PFO
Игрок фокусируется на секторе	повышение чёткости
Игрок отворачивается	размытие дальнего сектора
Объект важный (опасность, событие)	выделение визуально
Высокая нагрузка GPU	автоматическое понижение качества дальнего вида

Это динамический адаптер графики.

5. Pipeline: где PFO в отрисовке

Рендер ядра (сцена + свет)

PFO-послепроцессинг

HUD/GUI (не затрагивается)

PFO не ломает визуальные стили движка — только корректирует.

6. Настройки MVP

Размытие по глубине только вне Active Sector

Порог переключения по углу обзора

Гладкая интерполяция при изменении внимания

Параметры по умолчанию — мягкие, незаметные.

7. Отличие от других систем

PFO:

не участвует в симуляции

не влияет на логику мира

всегда обратим и мгновенен

работает быстрее, чем обычный LOD-пересчёт мешей

PFO это фильтр для глаз, а не для мира.

8. Отличительная особенность Arden

PFO может использовать маяки Vector Layer и HAOS как ориентиры внимания,
создавая умный визуальный LOD, без скачков и швов.

Это делает:

переходы LOD незаметными

нагрузку на рендер предсказуемой

восприятие мира плавным и комфортным

9. Резюме
Функция	Результат
Снижение визуальной нагрузки	стабильный FPS
Управление вниманием	более ясное восприятие мира
Плавные LOD-переходы	отсутствие “ломания картинки”
Интеграция с HAOS/Vector/Light	единая система оптимизации

PFO делает Arden визуально оптимизированным для игрока,
не вмешиваясь в саму симуляцию мира.

Конец Draft v0.1
